\documentclass[12pt]{report}
\usepackage{psu-thesis}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{amsmath,amsfonts,amssymb,textgreek,stmaryrd}
\usepackage{bbm}
\usepackage[greek,english]{babel}
\usepackage{ucs}
\usepackage[utf8x]{inputenc}
\usepackage{autofe}
\usepackage[references]{agda}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{graphicx}
\graphicspath{ {images/} }
\usepackage{rotating}
\usepackage{afterpage}

\usepackage{makecell}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{nameref}

\usepackage{amsthm}
\usepackage{lmodern}
\usepackage[sort&compress,square,comma,numbers,longnamesfirst]{natbib}
\usepackage{semantic}
\usepackage[hang]{caption}
\usepackage{color}
\usepackage{tcolorbox}
\usepackage{comment}
\usepackage{textcomp}
\usepackage{dashbox}
\usepackage{lscape}
\usepackage{afterpage}
\usepackage{url}
\usepackage{listings}
\usepackage[normal]{subfigure}
\usepackage[all]{xy}
\usepackage{enumerate}
\usepackage[shortlabels]{enumitem}
\usepackage{makeidx}
\usepackage{hyperref}

\usepackage[subfigure]{tocloft}
\usepackage[titletoc]{appendix}

\renewcommand{\labelitemi}{$\diamond$}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\DeclareUnicodeCharacter{8759}{\ensuremath{::}}
\DeclareUnicodeCharacter{10218}{\guillemotleft}
\DeclareUnicodeCharacter{10219}{\guillemotright}
\DeclareUnicodeCharacter{956}{\ensuremath{\mu}}
%% \DeclareUnicodeCharacter{8729}{\ensuremath{\cdot}}
%% \DeclareUnicodeCharacter{94}{\ensuremath{foo}}

\newcommand{\imp}{\ensuremath{\Rightarrow}}
\newcommand{\card}[1]{\ensuremath{\left\vert{#1}\right\vert}}

\newcommand{\anit}{\ensuremath{\alpha_\mathrm{init}}}
\newcommand{\inv}{^{-1}}
\newcommand{\Fi}{\ensuremath{F}}
\newcommand{\Fo}{\ensuremath{G}}
\newcommand{\defeq}{\ensuremath{\triangleq}}
\newcommand{\mrm}[1]{\mathrm{#1}}
\newcommand{\zero}{\mrm{zero}}
\newcommand{\suc}{\mrm{suc}~}

\newcommand{\nat}{\ensuremath{\mathbb{N}}}
\newcommand{\arr}{\ensuremath{\rightarrow}}
\newcommand{\set}{\mathrm{\mathbf{Set}}}
\newcommand{\dfn}[1]{\mathrm{\mathbf{#1}} \triangleq}
\newcommand{\tp}[1]{\mathrm{\mathbf{#1}}}
\newcommand{\stm}[1]{\mathrm{\mathbf{#1}}}

\newcommand{\parttitle}[1]{\refpart{#1}: \nameref{part:#1}}
\newcommand{\chaptitle}[1]{\refchap{#1}: \nameref{ch:#1}}

\newcommand{\reffig}[1]{Figure~\ref{fig:#1}}

\newcommand{\refpart}[1]{Part~\ref{part:#1}}
\newcommand{\refch}[1]{Chapter~\ref{ch:#1}}
\newcommand{\refchap}[1]{\refch{#1}}
\newcommand{\refsec}[1]{Section~\ref{sec:#1}}
\newcommand{\refapen}[1]{Appendix~\ref{apen:#1}}

\newcommand{\AgdaData}[1]{\AgdaDatatype{#1}}
\newcommand{\AgdaCon}[1]{\AgdaInductiveConstructor{#1}}
\newcommand{\AgdaFun}[1]{\AgdaFunction{#1}}
\newcommand{\AgdaVar}[1]{\AgdaBound{#1}}
\newcommand{\AgdaNum}[1]{\AgdaModule{#1}}

\newcommand{\Key}[1]{\AgdaKeyword{#1}}
\newcommand{\Field}[1]{\AgdaField{#1}}
\newcommand{\Data}[1]{\AgdaData{#1}}
\newcommand{\Con}[1]{\AgdaCon{#1}}
\newcommand{\Fun}[1]{\AgdaFun{#1}}
\newcommand{\Var}[1]{\AgdaVar{#1}}
\newcommand{\Num}[1]{\AgdaNum{#1}}
\newcommand{\Str}[1]{\AgdaString{#1}}

\newcommand{\AgdaBind}{\renewcommand{\AgdaPostulate}[1]
  {\AgdaNoSpaceMath{\AgdaFontStyle{\textcolor{AgdaBound}{\AgdaLink{##1}}}}}
}

\newcommand{\AgdaUnbind}{\renewcommand{\AgdaPostulate}[1]
  {\AgdaNoSpaceMath{\AgdaFontStyle{\textcolor{AgdaPostulate}{\AgdaLink{##1}}}}}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\addto\captionsenglish{
  \renewcommand{\contentsname}{\hfill\uppercase{Table of Contents}\hfill}
  \renewcommand{\listfigurename}{\hfill\uppercase{List of Figures}\hfill}
  \renewcommand{\bibname}{References}
}
\renewcommand{\cfttoctitlefont}{\normalsize\normalfont}
\renewcommand{\cftloftitlefont}{\normalsize\normalfont}

\renewcommand{\cftpartfont}{\normalsize\bfseries}
\renewcommand{\cftpartpagefont}{\normalsize\bfseries}
\addtocontents{toc}{\protect\renewcommand{\protect\cftpartpresnum}{\partname\;}}
\addtocontents{toc}{\protect\renewcommand{\protect\cftchappresnum}{\chaptername\;}}
\setlength{\cftchapnumwidth}{\widthof{\sc\chaptername~00~~~}}

\makeindex

\definecolor{grey}{rgb}{0.8,0.8,0.8}
\definecolor{gray}{rgb}{0.57,0.57,0.57}

\setlist{partopsep=-3em}
\setlist{topsep=-3em}
\setlist{parsep=-2em}
\setlist{itemsep=-.2em}

\newcommand{\Fig}[1]{Figure~\ref{fig:#1}}

\newcommand{\cf}[0]{{cf.}}
\newcommand{\eg}[0]{{e.g.,}}
\newcommand{\ie}[0]{{i.e.,}}
\newcommand{\aka}[0]{{a.k.a.}}
\newcommand{\carot}{\string^}

\newtheorem{proposition}{Proposition}
\newtheorem*{proposition*}{Proposition}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\newtheorem{conjecture}{Conjecture}
\theoremstyle{definition}
\newtheorem{definition}{Definition}
\newtheorem{example}{Example}
\theoremstyle{remark}
\newtheorem{remark}{Remark}

\numberwithin{definition}{section}
\numberwithin{equation}{section}
\numberwithin{proposition}{section}
\numberwithin{conjecture}{section}
\numberwithin{theorem}{section}
\numberwithin{lemma}{section}
\numberwithin{corollary}{section}
\numberwithin{example}{section}
\numberwithin{remark}{section}


\newcommand{\Title}{Fully Generic Programming \\
  Over Closed Universes of Inductive-Recursive Types}

\begin{document}

\title{\Title}
\titleline{\Title}

\author{Larry Diehl}
\principaladviser{Tim Sheard}{\ }
\firstreader{James Hook}
\secondreader{Mark P. Jones}
\thirdreader{Andrew Tolmach}
\graduaterepresentative{Robert Bass}
\departmenthead{Warren Harrison}
\grantdate{May}{8}{2017}


\titlep
\prefatory
\prefacesection{Abstract}
\vskip-5.5ex
$~~~~~~$
Dependently typed programming languages allow the type system to
express arbitrary propositions of intuitionistic logic, thanks to the
Curry-Howard isomorphism. Taking full advantage of this type system
requires defining more types than usual, in order to encode
logical correctness criteria into the definitions of
datatypes. While an abundance of specialized types helps ensure
correctness, it comes at the cost of needing to redefine common
functions for each specialized type.

This dissertation makes an effort to attack the problem of code reuse
in dependently typed languages. Our solution is to write generic
functions, which can be applied to any datatype.
Such a generic function can be
applied to datatypes that are defined at the time the generic function
was written, but they can also be applied to any datatype that is
defined in the \textit{future}. Our solution builds upon
previous work on generic programming within dependently typed
programming.

Type theory supports generic
programming using a construction known as a \textit{universe}. A
universe can be considered the model of a programming language,
such that writing functions over it models writing generic programs in
the programming language. Historically, there has been a trade-off
between the expressive power of the modeled programming language, and the
kinds of generic functions that can be written in it. Our
dissertation shows that no such trade-off is necessary, and that we can
write future-proof generic functions in a model of a dependently typed
programming language with a rich collection of types.

%% \prefacesection{Dedication} 
%% Dedication goes here.

\prefacesection{Acknowledgments}

I would like to thank Tim Sheard, my advisor, for giving me the
freedom to explore my own research interests, for always being
available to listen and provide constructive feedback, and for
instilling in me the importance of thoroughly explaining background
material, supplemented by plenty of examples.

I would also like to thank my parents, for supporting my decision to
pursue academic interests, despite needing to abandon a lucrative job
and career in software development.

Finally, I would like to thank Conor McBride, for inspiring me to work
on the topic of generic programming. This inspiration is in part due
to his academic publications and artifacts resulting from the
Epigram programme, and is in part due to him warmly and enthusiastically
welcoming a naive industry programmer.

\newpage

\tablespagefalse
%% \figurespagefalse
\afterpreface
\body

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{Prelude}\label{part:prelude}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{Thesis/Intro}

\input{Thesis/Types}
\input{Thesis/Universes}

\input{Thesis/Poly}
\input{Thesis/Fully}
\input{Thesis/Total}

\input{Thesis/ClosedW}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{Open Type Theory}\label{part:open}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{Thesis/OpenAlg}
\input{Thesis/OpenInfAlg}
\input{Thesis/OpenDepAlg}
\input{Thesis/OpenIRAlg}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{Closed Type Theory}\label{part:closed}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{Thesis/Closed}
\input{Thesis/Count}
\input{Thesis/Lookup}
\input{Thesis/AST}
\input{Thesis/HierW}
\input{Thesis/HierIR}
\input{Thesis/GHier}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{Postlude}\label{part:postlude}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{Thesis/Related}
\input{Thesis/Conclusion}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\addtocontents{toc}{\protect\renewcommand{\protect\cftpartpresnum}{}}
\addtocontents{toc}{\protect\renewcommand{\protect\cftchappresnum}{}}
\clearpage
\phantomsection{}
\addcontentsline{toc}{part}{References}
\bibliographystyle{plainnat}
\bibliography{thesis}

%% \clearpage
%% \phantomsection
%% \addcontentsline{toc}{part}{Index}
%% {\small
%% \begin{singlespace}
%% \printindex
%% \end{singlespace}
%% }

\clearpage
\phantomsection{}
\addcontentsline{toc}{part}{Appendices}
\begin{appendices}
\input{Thesis/Appendix}
\end{appendices}

\end{document}

